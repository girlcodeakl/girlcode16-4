<!DOCTYPE html>
<html>
<head>
  <title>Sign up to start hanging!</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <meta charset='utf-8'>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
</head>
<div class="nav-bar">
  <img class="logo" src="wannahanglogo.png">
  <div class="nav-links"> <a href="/index.html">Home</a></div>
  <div class="nav-links"> <a href="/feed.html">Up and Coming Hangs</a></div>
  <div class="nav-links"> <a href="/post.html">Post A Hang</a></div>
</div>
<h1 class="title">What's your hang?</h1>
<form class= "signUpForm" method="post">
  <div class="newUser">
    <h2>New user?</h2>
    <label>name: </label><input type="text" class="nameInput">
    <label>email: </label><input type="text" class="emailInput">
    <label>picture: </label><input type="text" class="pictureInput" placeholder="Insert a URL">
    <label>password: </label><input type="password" class="passwordInput">
    <button class="signup">Sign Up!</button>
    <p class="serverResponse"></p>
  </form>
</div>
<form class= "loginForm" method="post">
  <div class="existingUser">
    <h2>Existing user?</h2>
    <label>email: </label><input type="text" class="emailInput">
    <label>password: </label><input type="password" class="passwordInput">
    <button class="login">Log In!</button>
    <p class="serverResponse"></p>
  </form>
</div>
<body>
  <script>
  var onSignup = function(data, textStatus) {
    $(".newUser .serverResponse").text(data);
  }
  var sendNewUserInfo = function (e) {
    e.preventDefault();
    var data = {};
    data.emailInput = $(".newUser .emailInput").val();
    data.nameInput = $(".newUser .nameInput").val();
    data.pictureInput = $(".newUser .pictureInput").val();
    data.passwordInput = $(".newUser .passwordInput").val();
    $.post( "/signup" , data, onSignup );
  }

  var onLogin = function(data, textStatus) {
    $(".existingUser .serverResponse").text(data);
  }
  var sendLoginInfo = function (e) {
    e.preventDefault();
    var data = {};
    data.emailInput = $(".existingUser .emailInput").val();
    data.passwordInput = $(".existingUser .passwordInput").val();
    $.post( "/login" , data, onLogin );

  }

  $(".signUpForm").on("submit",sendNewUserInfo);
  $(".loginForm").on("submit",sendLoginInfo);

  </script>
</body>
</html>
